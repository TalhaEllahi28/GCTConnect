@{
    ViewData["Title"] = "Student Dashboard";
    Layout = null;
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />

@* <link href="~/css/Dashboard.css" rel="stylesheet" />
 *@
    <!-- Font Awesome for icons -->
<style>
    /* Ensure the body fills the viewport */
    body {
        margin: 0;
        padding: 0;
        height: 100%;
    }
    /* Grid container spanning full viewport height with four columns:
                                                   1. Vertical Nav Bar
                                                   2. Groups
                                                   3. Chat Window
                                                   4. AI Chatbot
                                                */
    .grid-container {
        display: grid;
        grid-template-columns: 60px 1fr 1.7fr 1fr;
        height: 100vh;
    }
    /* Styling for each grid item */
    .grid-item {
        box-sizing: border-box;
        border: 1px solid #ccc; /* For visual separation */
        overflow-y: auto;
    }
    /* Vertical Navigation Bar */
    .nav-bar {
        background-color: #6D5AE6;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center; /* Centers items vertically */
        padding: 10px 0;
    }

    .nav-item {
        margin: 15px 0;
        font-size: 20px;
        cursor: pointer;
        transition: transform 0.3s;
    }

        .nav-item:hover {
            transform: scale(1.1);
        }

    h2 {
        text-align: center;
    }
    /* Chat window scroll styling */
    #chat-window {
        overflow-y: scroll;
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE 10+ */
    }

        #chat-window::-webkit-scrollbar {
            display: none;
        }
    /* ----------------- Group Names Section Styling ----------------- */
    #group-names {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .group-container {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .group-header {
        padding: 10px;
        background-color: #f5f5f5;
        border-bottom: 1px solid #ccc;
    }

    #group-search {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    .group-list {
        flex-grow: 1;
        overflow-y: auto;
        padding: 10px;
    }

        .group-list ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .group-list li {
            flex: 1 1 calc(50% - 10px);
        }
    /* Group Items Hover (Pop) Effect */
    .group-item {
        display: block;
        width: 100%;
        padding: 10px;
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 4px;
        text-align: center;
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s, color 0.3s, border-color 0.3s;
    }

        .group-item:hover {
            background: #e6e6e6;
            border-color: black;
            transform: scale(1.05);
        }


</style>
 
<body>
    <div class="grid-container">
        <!-- First Column: Vertical Nav Bar -->
        <div class="grid-item nav-bar">
            <svg class="nav-item" xmlns="http://www.w3.org/2000/svg" width="1.3em" height="1.3em" fill="currentColor" viewBox="0 0 16 16">
                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4" />
                <path d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z" />
            </svg>
            <i class="fas fa-user-friends nav-item" style="width:1.5em; height:1.5em;"></i>
            <svg class="nav-item" xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" viewBox="0 0 16 16">
                <!-- User Silhouette -->
                <path d="M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" />
                <path d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z" />
                <!-- Pencil Overlay for Edit -->
                <g transform="translate(9,9) scale(0.5)">
                    <path d="M12.146.854a.5.5 0 0 1 .708 0l2.292 2.292a.5.5 0 0 1 0 .708l-9.792 9.792a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l9.792-9.792zM11.207 2L2 11.207V14h2.793L14 4.793 11.207 2z" />
                </g>
            </svg>
            <i class="fa fa-bullhorn nav-item" aria-hidden="true" style="width:1.5em; height:1.5em;"></i>
        </div>

        <!-- Second Column: Group Names -->
        <div class="grid-item" id="group-names">
            <!-- Render the partial view which includes our bounce-in class -->
            <partial name="_GroupNamesPartial" />
        </div>

        <!-- Third Column: Chat Window -->
        <div class="grid-item" id="chat-window">
            <div id="chat-container">
                <!-- Chat messages will appear here -->
            </div>
        </div>

        <!-- Fourth Column: AI Chatbot -->
        <div class="grid-item" id="ai-chatbot">
            <h2>AI Chatbot</h2>
            <!-- Your AI chatbot UI elements go here -->
        </div>
    </div>

    <!-- Bootstrap 5 JavaScript Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Include SignalR JS with cache busting -->
    <script src="~/js/signalr/dist/browser/signalr.js?v=1.0.3"></script>
    <script>
        window.onload = function () {
            // Scroll to bottom of chat container if it exists
            const container = document.getElementById("chat-container");
            if (container) {
                container.scrollTop = container.scrollHeight;
            }
            // Optional: set up event listener for a group button if available
            const groupButton = document.getElementById("group-button");
            if (groupButton) {
                groupButton.addEventListener("click", function () {
                    console.log("Group button clicked");
                    if (container) {
                        container.scrollTop = container.scrollHeight;
                    }
                });
            }
        };
    </script>
</body>

