@model IEnumerable<dynamic>

<!-- The bounce-in class triggers the pop (bounce) animation on load -->
<div class="group-container">
    <!-- Search Bar -->
    <div class="group-header">
        <input type="text" id="group-search" placeholder="Search groups..." onkeyup="filterGroups()" />
    </div>
    <!-- Group List -->
    <div class="group-list">
        <ul id="groups-ul">
            <!-- Group buttons loaded dynamically will be inserted here -->
        </ul>
    </div>
</div>

<script src="~/js/GetGroupsAndMessages.js"></script>
<script>

    document.addeventlistener("domcontentloaded", function () {
        // ensure the script runs after the dom is fully loaded

        // correct audio file path
        const hoversound = new audio('/sounds/pop-1-35897.mp3'); // update the correct file path

        // use event delegation for dynamically loaded elements
        document.getelementbyid("groups-ul").addeventlistener("mouseover", function (event) {
            if (event.target.classlist.contains("group-item")) {
                hoversound.play();
            }
        });
    });

    function filterGroups() {
        var input = document.getElementById("group-search");
        var filter = input.value.toLowerCase();
        var ul = document.getElementById("groups-ul");
        var li = ul.getElementsByTagName("li");
        for (var i = 0; i < li.length; i++) {
            var btn = li[i].getElementsByTagName("button")[0];
            var txtValue = btn.textContent || btn.innerText;
            li[i].style.display = txtValue.toLowerCase().indexOf(filter) > -1 ? "" : "none";
        }
    }
</script>
