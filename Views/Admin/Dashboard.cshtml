@{
    ViewBag.Title = "Admin Dashboard";
    Layout = null;
    var activities = ViewBag.Activities as List<GCTConnect.ViewModel.Admin.ActivityViewModel>;
}
@* 
<h1>Dashboard</h1>

<a asp-controller="Home" asp-action="AddSomeone">Add Someone</a>
</br>
<a asp-controller="Admin" asp-action="AddBatch">Batch Details</a>
<br />
<a asp-controller="Home" asp-action="CreateGroup">Create Group</a> *@


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCT Connect - Admin Panel</title>
    <link rel="stylesheet" href="/css/adminDashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>


    <partial name="_AdminNavBarPartial" />
    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="sidebar-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="page-title">Admin Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="admin-profile">
                    <img src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&dpr=1" alt="Admin" class="profile-img">
                    <span class="admin-name">Admin User</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </header>


        <div class="page-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>@ViewBag.UserCount</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>@ViewBag.BatchCount</h3>
                            <p>Active Batches</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon gold">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stat-info">
                            <h3>@ViewBag.DepartmentCount</h3>
                            <p>Departments</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <div class="stat-info">
                            <h3>@ViewBag.GroupCount</h3>
                            <p>Groups</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="dashboard-left">
                        <div class="card">
                            <div class="card-header">
                                <h3>Recent Activities</h3>
                            </div>
                            <div class="card-body">
                                <div class="activity-list">
                                    @if (activities != null && activities.Any())
                                    {
                                        foreach (var activity in activities)
                                        {
                                            <div class="activity-item">
                                                <div class="activity-icon @(activity.Type == "user" ? "purple" : activity.Type == "batch" ? "green" : "gold")">
                                                    <i class="fas @(activity.Type == "user" ? "fa-user-plus" : activity.Type == "batch" ? "fa-calendar-plus" : "fa-bullhorn")"></i>
                                                </div>
                                                <div class="activity-content">
                                                    <p>@activity.Description</p>
                                                    <small>@activity.TimeAgo.ToString("f")</small>
                                                </div>
                                            </div>
                                        }
                                    }
                                    else
                                    {
                                        <p>No recent activities found.</p>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-right">
                        <div class="card">
                            <div class="card-header">
                                <h3>System Overview</h3>
                            </div>
                            <div class="card-body">
                                <div class="overview-item">
                                    <span class="overview-label">Active Users</span>
                                    <span class="overview-value green">@ViewBag.ActiveUsers</span>
                                </div>
                                <div class="overview-item">
                                    <span class="overview-label">Pending Approvals</span>
                                    <span class="overview-value gold">@ViewBag.PendingApprovals</span>
                                </div>
                                <div class="overview-item">
                                    <span class="overview-label">System Health</span>
                                    <span class="overview-value green">@ViewBag.SystemHealth</span>
                                </div>
                                <div class="overview-item">
                                    <span class="overview-label">Storage Used</span>
                                    <span class="overview-value">@ViewBag.StorageUsed</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Page Content -->
      @*   <div class="page-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>@ViewBag.UserCount</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>8</h3>
                            <p>Active Batches</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon gold">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stat-info">
                            <h3>12</h3>
                            <p>Departments</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <div class="stat-info">
                            <h3>45</h3>
                            <p>Groups</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="dashboard-left">
                        <div class="card">
                            <div class="card-header">
                                <h3>Recent Activities</h3>
                            </div>
                            <div class="card-body">
                                <div class="activity-list">
                                    <div class="activity-item">
                                        <div class="activity-icon purple">
                                            <i class="fas fa-user-plus"></i>
                                        </div>
                                        <div class="activity-content">
                                            <p>New user registered: John Doe</p>
                                            <small>2 hours ago</small>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon green">
                                            <i class="fas fa-calendar-plus"></i>
                                        </div>
                                        <div class="activity-content">
                                            <p>Batch 2024 created successfully</p>
                                            <small>5 hours ago</small>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon gold">
                                            <i class="fas fa-bullhorn"></i>
                                        </div>
                                        <div class="activity-content">
                                            <p>New announcement posted</p>
                                            <small>1 day ago</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="dashboard-right">
                        <div class="card">
                            <div class="card-header">
                                <h3>System Overview</h3>
                            </div>
                            <div class="card-body">
                                <div class="overview-item">
                                    <span class="overview-label">Active Users</span>
                                    <span class="overview-value green">856</span>
                                </div>
                                <div class="overview-item">
                                    <span class="overview-label">Pending Approvals</span>
                                    <span class="overview-value gold">23</span>
                                </div>
                                <div class="overview-item">
                                    <span class="overview-label">System Health</span>
                                    <span class="overview-value green">Good</span>
                                </div>
                                <div class="overview-item">
                                    <span class="overview-label">Storage Used</span>
                                    <span class="overview-value">68%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Batches Page -->

            <!-- Departments Page -->

            <!-- Groups Page -->

            <!-- Announcements Page -->

            <!-- Reports Page -->

            <!-- Settings Page -->
        </div> *@
    </main>

    <!-- Modals -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New User</h3>
                <button class="modal-close" onclick="hideModal('addUserModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="user-form">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Role</label>
                        <select class="form-select" required>
                            <option value="">Select Role</option>
                            <option value="student">Student</option>
                            <option value="teacher">Teacher</option>
                            <option value="hod">Head of Department</option>
                            <option value="principal">Principal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Department</label>
                        <select class="form-select" required>
                            <option value="">Select Department</option>
                            <option value="cs">Computer Science</option>
                            <option value="ec">Electronics</option>
                            <option value="me">Mechanical</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('addUserModal')">Cancel</button>
                <button class="btn btn-primary">Add User</button>
            </div>
        </div>
    </div>

    <div id="addBatchModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Batch</h3>
                <button class="modal-close" onclick="hideModal('addBatchModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="batch-form">
                    <div class="form-group">
                        <label>Batch Year</label>
                        <input type="number" class="form-input" min="2020" max="2030" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-textarea" rows="3" placeholder="Optional description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('addBatchModal')">Cancel</button>
                <button class="btn btn-primary">Create Batch</button>
            </div>
        </div>
    </div>

    <div id="addDepartmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Department</h3>
                <button class="modal-close" onclick="hideModal('addDepartmentModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="department-form">
                    <div class="form-group">
                        <label>Department Name</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Department Code</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-textarea" rows="3" placeholder="Department description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('addDepartmentModal')">Cancel</button>
                <button class="btn btn-primary">Create Department</button>
            </div>
        </div>
    </div>

    <div id="addGroupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Group</h3>
                <button class="modal-close" onclick="hideModal('addGroupModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="group-form">
                    <div class="form-group">
                        <label>Group Name</label>
                        <input type="text" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>Group Type</label>
                        <select class="form-select" required>
                            <option value="">Select Type</option>
                            <option value="students">Students Only</option>
                            <option value="mixed">Students & Teachers</option>
                            <option value="staff">Staff Only</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Department</label>
                        <select class="form-select" required>
                            <option value="">Select Department</option>
                            <option value="cs">Computer Science</option>
                            <option value="ec">Electronics</option>
                            <option value="me">Mechanical</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-textarea" rows="3" placeholder="Group description"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="hideModal('addGroupModal')">Cancel</button>
                <button class="btn btn-primary">Create Group</button>
            </div>
        </div>
    </div>


    <script src="/js/adminDashboard.js"></script>

</body>
</html>